\doxysection{geometric.\+h}
\hypertarget{geometric_8h_source}{}\label{geometric_8h_source}\index{include/glm/simd/geometric.h@{include/glm/simd/geometric.h}}
\mbox{\hyperlink{geometric_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{common_8h}{common.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#if\ GLM\_ARCH\ \&\ GLM\_ARCH\_SSE2\_BIT}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \mbox{\hyperlink{setup_8hpp_ab2d052de21a70539923e9bcbf6e83a51}{GLM\_FUNC\_DECL}}\ glm\_vec4\ glm\_vec4\_dot(glm\_vec4\ v1,\ glm\_vec4\ v2);}
\DoxyCodeLine{00011\ \mbox{\hyperlink{setup_8hpp_ab2d052de21a70539923e9bcbf6e83a51}{GLM\_FUNC\_DECL}}\ glm\_vec4\ glm\_vec1\_dot(glm\_vec4\ v1,\ glm\_vec4\ v2);}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec4\_length(glm\_vec4\ x)}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ dot0\ =\ glm\_vec4\_dot(x,\ x);}
\DoxyCodeLine{00016\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sqt0\ =\ \_mm\_sqrt\_ps(dot0);}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordflow}{return}\ sqt0;}
\DoxyCodeLine{00018\ \}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec4\_distance(glm\_vec4\ p0,\ glm\_vec4\ p1)}
\DoxyCodeLine{00021\ \{}
\DoxyCodeLine{00022\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sub0\ =\ \_mm\_sub\_ps(p0,\ p1);}
\DoxyCodeLine{00023\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ len0\ =\ glm\_vec4\_length(sub0);}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{return}\ len0;}
\DoxyCodeLine{00025\ \}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec4\_dot(glm\_vec4\ v1,\ glm\_vec4\ v2)}
\DoxyCodeLine{00028\ \{}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#\ \ \ if\ GLM\_ARCH\ \&\ GLM\_ARCH\_AVX\_BIT}}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_dp\_ps(v1,\ v2,\ 0xff);}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#\ \ \ elif\ GLM\_ARCH\ \&\ GLM\_ARCH\_SSE3\_BIT}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(v1,\ v2);}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ hadd0\ =\ \_mm\_hadd\_ps(mul0,\ mul0);}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ hadd1\ =\ \_mm\_hadd\_ps(hadd0,\ hadd0);}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ hadd1;}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(v1,\ v2);}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ swp0\ =\ \_mm\_shuffle\_ps(mul0,\ mul0,\ \_MM\_SHUFFLE(2,\ 3,\ 0,\ 1));}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ add0\ =\ \_mm\_add\_ps(mul0,\ swp0);}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ swp1\ =\ \_mm\_shuffle\_ps(add0,\ add0,\ \_MM\_SHUFFLE(0,\ 1,\ 2,\ 3));}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ add1\ =\ \_mm\_add\_ps(add0,\ swp1);}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ add1;}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00044\ \}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec1\_dot(glm\_vec4\ v1,\ glm\_vec4\ v2)}
\DoxyCodeLine{00047\ \{}
\DoxyCodeLine{00048\ \textcolor{preprocessor}{\#\ \ \ if\ GLM\_ARCH\ \&\ GLM\_ARCH\_AVX\_BIT}}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_dp\_ps(v1,\ v2,\ 0xff);}
\DoxyCodeLine{00050\ \textcolor{preprocessor}{\#\ \ \ elif\ GLM\_ARCH\ \&\ GLM\_ARCH\_SSE3\_BIT}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(v1,\ v2);}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ had0\ =\ \_mm\_hadd\_ps(mul0,\ mul0);}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ had1\ =\ \_mm\_hadd\_ps(had0,\ had0);}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ had1;}
\DoxyCodeLine{00055\ \textcolor{preprocessor}{\#\ \ \ else}}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(v1,\ v2);}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mov0\ =\ \_mm\_movehl\_ps(mul0,\ mul0);}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ add0\ =\ \_mm\_add\_ps(mov0,\ mul0);}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ swp1\ =\ \_mm\_shuffle\_ps(add0,\ add0,\ 1);}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ add1\ =\ \_mm\_add\_ss(add0,\ swp1);}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ add1;}
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\#\ \ \ endif}}
\DoxyCodeLine{00063\ \}}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec4\_cross(glm\_vec4\ v1,\ glm\_vec4\ v2)}
\DoxyCodeLine{00066\ \{}
\DoxyCodeLine{00067\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ swp0\ =\ \_mm\_shuffle\_ps(v1,\ v1,\ \_MM\_SHUFFLE(3,\ 0,\ 2,\ 1));}
\DoxyCodeLine{00068\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ swp1\ =\ \_mm\_shuffle\_ps(v1,\ v1,\ \_MM\_SHUFFLE(3,\ 1,\ 0,\ 2));}
\DoxyCodeLine{00069\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ swp2\ =\ \_mm\_shuffle\_ps(v2,\ v2,\ \_MM\_SHUFFLE(3,\ 0,\ 2,\ 1));}
\DoxyCodeLine{00070\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ swp3\ =\ \_mm\_shuffle\_ps(v2,\ v2,\ \_MM\_SHUFFLE(3,\ 1,\ 0,\ 2));}
\DoxyCodeLine{00071\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(swp0,\ swp3);}
\DoxyCodeLine{00072\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul1\ =\ \_mm\_mul\_ps(swp1,\ swp2);}
\DoxyCodeLine{00073\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sub0\ =\ \_mm\_sub\_ps(mul0,\ mul1);}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ sub0;}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec4\_normalize(glm\_vec4\ v)}
\DoxyCodeLine{00078\ \{}
\DoxyCodeLine{00079\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ dot0\ =\ glm\_vec4\_dot(v,\ v);}
\DoxyCodeLine{00080\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ isr0\ =\ \_mm\_rsqrt\_ps(dot0);}
\DoxyCodeLine{00081\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(v,\ isr0);}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordflow}{return}\ mul0;}
\DoxyCodeLine{00083\ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec4\_faceforward(glm\_vec4\ N,\ glm\_vec4\ I,\ glm\_vec4\ Nref)}
\DoxyCodeLine{00086\ \{}
\DoxyCodeLine{00087\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ dot0\ =\ glm\_vec4\_dot(Nref,\ I);}
\DoxyCodeLine{00088\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sgn0\ =\ glm\_vec4\_sign(dot0);}
\DoxyCodeLine{00089\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(sgn0,\ \_mm\_set1\_ps(-\/1.0f));}
\DoxyCodeLine{00090\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul1\ =\ \_mm\_mul\_ps(N,\ mul0);}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{keywordflow}{return}\ mul1;}
\DoxyCodeLine{00092\ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ glm\_vec4\ glm\_vec4\_reflect(glm\_vec4\ I,\ glm\_vec4\ N)}
\DoxyCodeLine{00095\ \{}
\DoxyCodeLine{00096\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ dot0\ =\ glm\_vec4\_dot(N,\ I);}
\DoxyCodeLine{00097\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(N,\ dot0);}
\DoxyCodeLine{00098\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul1\ =\ \_mm\_mul\_ps(mul0,\ \_mm\_set1\_ps(2.0f));}
\DoxyCodeLine{00099\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sub0\ =\ \_mm\_sub\_ps(I,\ mul1);}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordflow}{return}\ sub0;}
\DoxyCodeLine{00101\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \mbox{\hyperlink{setup_8hpp_a33fdea6f91c5f834105f7415e2a64407}{GLM\_FUNC\_QUALIFIER}}\ \_\_m128\ glm\_vec4\_refract(glm\_vec4\ I,\ glm\_vec4\ N,\ glm\_vec4\ eta)}
\DoxyCodeLine{00104\ \{}
\DoxyCodeLine{00105\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ dot0\ =\ glm\_vec4\_dot(N,\ I);}
\DoxyCodeLine{00106\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul0\ =\ \_mm\_mul\_ps(eta,\ eta);}
\DoxyCodeLine{00107\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul1\ =\ \_mm\_mul\_ps(dot0,\ dot0);}
\DoxyCodeLine{00108\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sub0\ =\ \_mm\_sub\_ps(\_mm\_set1\_ps(1.0f),\ mul0);}
\DoxyCodeLine{00109\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sub1\ =\ \_mm\_sub\_ps(\_mm\_set1\_ps(1.0f),\ mul1);}
\DoxyCodeLine{00110\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul2\ =\ \_mm\_mul\_ps(sub0,\ sub1);}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \textcolor{keywordflow}{if}(\_mm\_movemask\_ps(\_mm\_cmplt\_ss(mul2,\ \_mm\_set1\_ps(0.0f)))\ ==\ 0)}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_mm\_set1\_ps(0.0f);}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sqt0\ =\ \_mm\_sqrt\_ps(mul2);}
\DoxyCodeLine{00116\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mad0\ =\ glm\_vec4\_fma(eta,\ dot0,\ sqt0);}
\DoxyCodeLine{00117\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul4\ =\ \_mm\_mul\_ps(mad0,\ N);}
\DoxyCodeLine{00118\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ mul5\ =\ \_mm\_mul\_ps(eta,\ I);}
\DoxyCodeLine{00119\ \ \ \ \ glm\_vec4\ \textcolor{keyword}{const}\ sub2\ =\ \_mm\_sub\_ps(mul5,\ mul4);}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordflow}{return}\ sub2;}
\DoxyCodeLine{00122\ \}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \textcolor{preprocessor}{\#endif}\textcolor{comment}{//GLM\_ARCH\ \&\ GLM\_ARCH\_SSE2\_BIT}}

\end{DoxyCode}
